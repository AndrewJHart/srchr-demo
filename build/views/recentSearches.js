define(["use!underscore","views/base","text!views/templates/recentSearches.html","text!views/templates/recentSearch.html"],function(a,b,c,d){return b.extend({template:c,itemTpl:a.template(d),prepare:function(){if(!a.isFunction(this.currentSearch))throw new Error("Recent searches component needs a currentSearch function");this.bindTo(this.searches,"add remove change",this._update)},postRender:function(){this._update()},_update:function(){this.searches.sort();var a=this.itemTpl,b=this.currentSearch(),c=this.searches.map(function(c){var d=c.toJSON();return d.term?(d.current=d.term===b,a(d)):""}).join("");this.$(".js-searches").html(c)}})})