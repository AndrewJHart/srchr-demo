define(["use!underscore","views/base","text!views/templates/searchForm.html"],function(a,b,c){return b.extend({template:c,prepare:function(){a.bindAll(this,"release","_onSearch","_disable")},events:{"submit .search-form":"_onSearch"},_onSearch:function(a){a.preventDefault();if(this.disabled)return;var b=$.trim(this.$(".js-input").val());if(!b)return;this._disable(),this.trigger("search",b)},release:function(){this.disabled=!1,this.$(".js-submit").removeAttr("disabled")},_disable:function(){this.disabled=!0,this.$(".js-submit").attr("disabled",!0)}})})